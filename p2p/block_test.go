package p2p

import (
	"btcnetwork/block"
	"btcnetwork/common"
	"encoding/hex"
	"testing"
)

func TestBlockPayload_Parse(t *testing.T) {
	//DataInString := "03000030a2dad216e046040d0b4b03ed8d65667cef6642e58fdf471078dfc7dea0aab35160a8228f5bc802b23c8d2aac7b32026af0ba6f7d137468a6acdfff2e410c522b3fc80a5fffff7f20000000000201000000010000000000000000000000000000000000000000000000000000000000000000ffffffff17016c084d38ab7e8a6291a00b2f503253482f627463642fffffffff01e0f2052a010000001976a9147b9ab762d867fef558c26f8b14233e206386d56588ac0000000001000000010cb9551bfc3b772e0efa0817dc069df8694f756017373638a16e74854fc0be1b000000006b483045022100c5e444cfe7d13779a6a772ab9692aae87d8cf7a1e2fb80306e05a30ee4b16d1402207f56b99125ea7d8a50cbb6990f8e9b43088b4965d81af1cf6a9dbbef2e5e46960121033bee237c0e48aad2cc4411f7c51f424a94f063452ce32457d94be2d91e51f712ffffffff0200e1f505000000001976a91482d55da28ed20143e127b21c4aacc062424f46d388ac20101024010000001600147f3f76a54d863d17b3533deaf697fe34e277cf7b00000000"
	//DataInString := "0300003016f47d75475a67888235ea805ae59251766b37b1226e0cac2bca95463307bb1a545ce22a4b21d3e1a2c7876deba2f378e8f3ed378c29df871ec5a7da78578ebd45360b5fffff7f20000000000201000000010000000000000000000000000000000000000000000000000000000000000000ffffffff17017d089efec3ecbe8362b20b2f503253482f627463642fffffffff01e0f2052a010000001976a9147b9ab762d867fef558c26f8b14233e206386d56588ac0000000001000000016bf39aca3c7340115380760034795779cfedd8d83565359bcc72bdb994d72911000000006a473044022072e80628c7be07560c0e82d27a41edb28d067b6c7efc2c568a7dc17bc84ef222022070e875918f12217d2299bb9b30913718c28db22cbeaf748b88615a2861260d6e0121033bee237c0e48aad2cc4411f7c51f424a94f063452ce32457d94be2d91e51f712ffffffff0200e1f505000000001976a91482d55da28ed20143e127b21c4aacc062424f46d388ac20101024010000001600149c61159dfa36778091e2ce991640d6eba27ec9ae00000000"
	DataInString := "0000c0207c2c960645f66906179c57fa25a081e1dcc457943b3803000000000000000000ba69b33a189df9c041bbc5c3732e69b2599193716d3900d390e42a6fcb3e2d1bd55e0b5f19d511172c68c6612f010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff6203f5bf091f2f5669614254432f4d696e6564206279207065796d616e73616d73616d692f2cfabe6d6dcd0e001d0cdc6859c013817c3e333c22ca58b6dd0a44f9ea1c71474d3f3035b51000000000000000101fa0d517aad699d63494513e27c80000ffffffff045a894425000000001976a914536ffa992491508dca0354e52f32a3a7a679a53a88ac00000000000000002b6a2952534b424c4f434b3a859891df9b9740533bab51c3e110e5423023c62c7c48eb369a7b27270026726e0000000000000000266a24b9e11b6ddca97dfc01513731a5fc59cfb3a2581426376f1ecd522ca08b397f0db53ec49f0000000000000000266a24aa21a9ed50a472707689febfb0bccd8b41e7ab218da77039fb92736b4f5acc27abc5431f0120000000000000000000000000000000000000000000000000000000000000000000000000020000000001012cd0a9ee52f436f0e229b383e4c82553526476ff97263601dfc6eea0cbb644f90000000017160014cc39266a48b2c5fa4125bbd713ce6339c814d392feffffff024d8a02000000000017a914b3fea7b1e5e5718fc9bb000f2d81b7311b6861798727ac17000000000017a914735b47227d3b808d78b73ec2cd7542229175f6bb8702473044022003d63c085462c6ffed2793022e25bb815cdb9fc8fec0a42561dc2094cfebd70102202c8fbe7cdc2455f92fae62d41a260737def504fe526fae10acd106b8c5679fdf01210369d2697adb9eda8376111ee7a9c4125de1b369ccb9165b3120a97b2142fc8486f3bf090001000000000101d8431ab43c244a1c24843aec87ebe4fe3ee8247b47c045eea84e728b714a9d3401000000232200200e421147a71350acb36384f1f8e618042b7c314e9a4878338d51aabb82e87f70ffffffff020c3c6200000000001976a9145aa10c15201c0fc29621430ed0e7e3073da59b8688ac3bdc301c0000000017a9149842d11d969f074dd49b9b85d3ee163731ee7dee870400473044022014ab33337aa460a8f4147d18bccb35df284851a1d666770adc30ea741a273b080220081cd70d102e3caec9e212fc556ee985247ac824661a803c1be52e08553a8c8b01473044022075a76636889b3c294dc3ebe1e36d37a14ae37ea6e78f717b9ff0b92184a046f802206a67a7b4ed887182fd3434ed99b1e930f9bfef730270068bbeae87c65a19e3dd014752210345d4eda1f97225c8eb675b16a845c3e16be2f96afcde5c2ed49b2ef4047a176f21031fcbc800fdc2205e5efdec8c58fef4e44b5cbe3dac1d1641a25bbd1f6e04525452ae0000000001000000023d008b19fb1d39c585d668759ba13685b9c8bb207b04155688506e43c394740a000000006b483045022100b37f1f428288548d359e8dc208e24ab3ee9953f9c0d464fc15d65a8179d6f36f02201ec0fdecc8e75f986a804a93a838d15c4586a07b81a9c51182fc0ef315b36a01012102677a9dfa03f4c5a946304c17a259331d080742ebdcb19af9c3ee3b7469516328ffffffffeaaaeef6831a95bcd39c568af78b55ceb133875e110eb70e986afc401961de96000000006a47304402204e59043b6b30d33750a8125fe459eac765f04a2a1a463bbea55b119adbbb0e8802204944a77770af367ea88388eb16060b21e8799ebb2af0b98b0db0d75daa0f790201210282ed83a81cf4ea22090fec4ae8dcb2c56ce31f5aa55775113e277de91b51f1cbffffffff02f75f0100000000001976a914415582eac5280729475a2574f152d932589e653988ac625e2500000000001976a914bef9d7616ebaf10b31def7e547e6843c8c7e419b88ac000000000100000001436f5f188a30e12e5c5d8311c893ab5227cc01fd1baba93142f11a74755e058a010000006b483045022100f6c60b9d9cbfbd95ae5b97ce6c77ec65d843e4492fc494e8a0338c88b61c205c0220518795e7a3be3ba257b53796cddd8658d98d45b3b468f7f52ae37ca374f1c1110121024b46cf5bcde6707799597036ded442c6c3829211fd6f319c0eeaba99b7d9766fffffffff013d1025000000000017a914a1207acae18803adcdd6d89a024c682137ebe87987000000000200000000010264c9438eb73818b49e19f2562f9f114b4bc1cbae6a748d51622cf98b21d869b2040000001716001413b321757b4f107763066360a200f07f5f2c786dffffffff88f812e786ce340893ffe61151e846d1547f85988fedf2da667dab1cb25d8ea1010000006946304302205fb93cd7b84cba74243f3c13447e76d1221407244c70fce697c1208ba5f8a41e021f2d1e79b8acaef1c5cece7d27be30e28533765cb289671f4d5ddeffb14980a2012103786af4b32017ec640dba2d2a7e1fd5aa4a231a658e4cbc114d51c031576e19bcffffffff04608925000000000017a914e37cd5492ca00891e1bf37a3f50f9acbae253e2387926310000000000017a91424fd44083ea49edda3c5f06cfab06d7078535cf887865704000000000017a91492938e6fae238f146c842798e2b044e59126772f8773a1d393010000001976a914cebb2851a9c7cfe2582c12ecaf7f3ff4383d1dc088ac0247304402200dde8c4d948e43c592a7053c4350b1c10aeea5ba9d521a725eccb449e9b9b4960220563fdeaaa3d059b8854299660661dc965e435e33bf61dc379a33cf6bec7012320121022ce2c1b48036cec6f2f9f6077dde49420785702521f8d7d6afeabff1bc6a44a80000000000020000000001018220aa224f3225984cc99b96bb2d5842430d2603fca5a65406b8b69f841eca100200000017160014a94517fe5a26c505af1aa5f1a6778f8ccd948562ffffffff02dec09200000000001976a9143e575b43d21558ff57e2cf7beaa83735fb3571dc88ace6fd39060000000017a91413b235406d5f1c89c2f2dac0a5ae1a12028c1504870247304402205da79a26fde1af2697966c2d80b3be835d10c3c05a25bb3afdc4f8512c7a2a65022067214d648cb4c82ecfe11f1cd5f711319655907c0750a708ee641891c3c797680121029eeae0b067757ada96e2c92891c686732112372f996b9fb4fc96fd6df94330ff0000000002000000000101a83cd79ff2955813c695524b4c3b40f32b291f2b41e12dbb34a1b1d11d77fe540200000000fdffffff03400d0300000000001976a914c51090bf7aa4439b8df455eb720c13e3d4db2bc588ace9e620040000000016001455496c483e366be21f67af9ae63e7da6437e8fbb6933296c00000000160014b605e42cf32b7e11d362aa3feefc79d305318a8a02483045022100e0d57aeb1be0cd273f8b2945f1bc9c5e5fdbbc0aa73dd6e217d63a406f399863022004f3604f0678ceb1be1fdd0e96a4625222529c9ce97c41b3fe46a861c5ec38850121031d77c2473846e320d47a505a00f1d864ae6852a6c8ce6122eeb7b2e176e48ea2f3bf09000200000001f0fc599e64742466ab3cf8c5029f08101133785cccd1a9876d3597478b433e9f0f0000006b483045022100c9ece8c436b31df47b55bc5b526d7674608ae33e4a5592aaa892dae898c4bd8e022006839edeb8c503ce65469299f6ce0c227014a0cb158575faf6120bb631bb20d6012102cf4ea31a90adf57d287859283c329c92334bf41992d17a810d3ecfdb99d41e9dffffffff010d3f45000000000017a914e2076ccdf93f7d354594bc69b9f43fdd5ccce1a2870000000002000000000101dc6da29357789a82a8b92e0883f1f2886480ca61ee18a577ff873d7de87a48ed0100000000ffffffff02b7360500000000001976a914e03824d3796d6c39c59956a6ef7fe44a84531e4a88ac6c1a030000000000160014e24e8437e42842d361466cae2dafd13cf6aa25f90248304502210094a73bf2833084e5322f73b2e6b3c85b9f96599c7cc05790ecf1a194908f8bb402207148dc0ae919ffbb9e26b75be8fea5e0e94bb6e220000d1588968f284cce520a01210313edc472d4daafab548305150accb9cd42bd6ee358c98b57e053f959dce195cf00000000020000000001013b7d1de1631fbda53fe159735a1ccf1de80b3bb94422ea37f1d3299136ddb5690000000000ffffffff0257b41100000000001976a914f22175b83a9328540b78d73e7623a2a91a17d27988ac585d4000000000001600149b04dd6609c8eb36dc34c4e8c245f9eac71a297b02473044022045f1489ba418a63b6d427f1036069f100069330f9c0dda27112f17e539f6076b02201cbaf508b21152558a85c42e70cb265b10e730e3394f5fb41df97afdbef9206c0121037073063ade08ff89ca019cf7f3b16d341a5c2ce8b6b527cea2061dc1a4a6aa17000000000100000001ac53e1485fd20818891b3e997257812af63577e66746230e999532920dc33ed7070000006a47304402201920012c701131bb51c7c0df49d76e381f79015ac356ead4cad8da0b1be140a002205fea0dc13d3e88b9cc00a8ebd7bef89410b9c6ea106c552bb53dc99437ea05fb012102c0d5f15608dcfd234578ac65d634b413215763fa12877e91b51da1f8ca5cf969ffffffff0182a30d00000000001976a9146f5d530b9035e3c51ce650093fa58c7fe35de2ca88ac000000000200000000010118042c029f235227f1a62511b74e6169212a139b399eaeb8c7b52ca14303c76c0600000000fdffffff02904106000000000017a914a3d86178a5b4975b5a83987397d715f190e8aabc87d686a82400000000160014f60834ef165253c571b11ce9fa74e46692fc5ec10247304402202b7813e7e2a2fe2f8cf31a7f23465c5208a9b1c0723d099b60bae63232d7853502207cc920e25810bdd2aa094bed3a4497b5292aad75ebe74e1a115216cf462256fa0121026e5628506ecd33242e5ceb5fdafe4d3066b5c0f159b3c05a621ef65f177ea286000000000200000000010154705111a84b830753e540c78ea05faed5f3e77c1f3e697a749ae3a758946cf5010000001716001413c519539662cc49cbed4ed03cd945dc6aa6ff4bfeffffff028b0703020000000017a914b4e3568a2bedfb20e3b5ce6680b07b09c16d6a3087c01e1600000000001976a9145c0f51b8713c2c6013053055970847a9340fff6488ac0247304402206e95daf59c9f47a9a2f4869099767753f2e0a0bf31ee18ecdd3e2bfe29919b22022014f67044ecc493425f24f282dcec4aed42d8f204502b374f28a98e65f21723680121030bada51065722a2a69756621cf6209f455525731e3be47ef76da0ce8899f9606f3bf090001000000012dd7294a1f0aa712bc5571f57bdd8afe4df4d9a19be1de04431fbc8b4b7823a1010000006b483045022100a30eb4e809f8f85378ccca0a880a8b17faa9a32d3b9c1a8497dd7e256e8b2fce022061ece507a402e472a37e0794c97e8f6cf34ad06005299840e3e6e800437882fb01210331b46b46657b01f26ba51f10c524f99db05e3150435486ec8ab34abdae1517f6ffffffff020a421c000000000017a91447d38061bc0c1f92a40629f23e74396adccdfd7487f94a7300000000001976a914d126974c783e9e303f148a83cd6170ad564bcff888ac0000000001000000018ce1c5132d5e7d339eb535edfef163e0034bd9e3d39eb0dc4788a64a85b907a4010000006a47304402206b9923e363f32391599de2fc5fd55f66621ee8222b7f176bcbf88dfe899988850220657fa3f292d6d53a066c6b810887ae5747324bae8252f33e2949673f191275d30121028f2b6c5a85a7b0d6a485019bfd20ebd4723ac8d6dd2075ba47e06733e91e2785ffffffff022a3b4200000000001976a9143026d42a4fea394034d9e4a92356b5c527e470a488accbee6f00000000001976a914409d35918234fb4849f422134fe075337f5326a288ac0000000001000000000101ce55ae0c888c835d44c3d4fc123f6e7cde3ca5dce222413381a0d18b2f1cd1b90100000017160014e550c37e5a24741b4e9ede9818c9fb7065a23670ffffff000200e1f505000000001976a914c2a244dae887fa4e92f310e66d496d21960e6b3788acf8cdf5050000000017a914de2c23bbc25f5ee2b8de9c52c6c48a9d2b9555d38702483045022100ffd3c679142febb0a6cee5bc1fc9684f527c6a554ba608f642000b941a1a592a02204a782f2822a1700d65e9cc851a1f313c0697375f3ae0762123722532a00f1a290121034ff178057f433fa367be2a97f3255dac511c4383bc7fe1f35b131eec448f4113000000000100000001586d7eea53e96fdd9569745c0b41c84ffddea9cd37ef582498aac38a5647cab1080000006a47304402200291a62231bea967954ac7cbdfdea181bc45e0401e5c8836dee77fafca4c93770220648a77984186146f23c6d4045a2da3ee4fb85cb5adc16207d83dfc29193654b10121037f81895a52ed90e2a6ef95ec8ae0e9ebc4fba5297733fbc5e7bdca88130f72cdffffffff02027c02000000000017a914f08f335be7dfe25375e0e12dded645b3d9cac43e8746c75c00000000001976a91429cbf095ad26d4437f937a555bf7da5f9cc2c31b88ac000000000100000001e12f5169980ecaa365fb426409eadf15bfc6dddc7ff3ca27321fdc567b57f504010000006a4730440220153cd7fb2ac72cbcf1907be9a9eaf47078aeedef679ac0d0c05452bde38e371b022068f60a0f2d562bf9304b554c135c015235bb8edf798365b4ec92c337368db9760121023ca1ee628945d502e15585c0892e2cd6b354b249820f207f0195520bfa6f4aaaffffffff02aea30200000000001976a91446d3673429b1818a82ea2ba380102fa6af1f83c688acc08a05000000000017a9147e5bd29c0d365acede9582d8dff93f1e9828c709870000000001000000018d39d1d8552d849176c300ea791a5dce6eb2e928fce763398d6417f502311172010000006a47304402206af43aea8d8558b1390ff126db49de45c941c890ada13c1a5f5eabd50155ad3402201805d31bda772d94c42fb9b85a1f30de713b7a2b511708620cae871642923140012102c5d5c5f0360bbefe7ed859aa85f4ab4283183586a7a438d9afebdbe706f7d74effffffff02a2880600000000001976a914f44be507d9e49f82e7cbe56724f825aa80d36af888acec470800000000001976a9145ee8f127304d12167c775bf494a81dfb5ebf4aad88ac0000000001000000000101b6af4d00c2e13a1ef5ce0e8706172992cee84b61523e3b38e39d888600c47eaa0000000017160014b32583d8aa753209ded0046c5d2a055a93b444b3ffffffff02d3df1300000000001976a914f65334b7ab1d57ce50ebf142fc84e4a04ff17b5788acf6038e00000000001976a914764bbbb0d33a1c4a69133104e0c620f2efa28aa488ac02473044022057084f9669f5d989606b0f391835c88195ea95b257d9c71e7a943378c10c15ba022056faa2af5b137de27b9fbf3d87f0fa2097d50d1bdfe9b939bbbe627a696be1ce012103413a9777fbd6a949d26c773d9e825a6dfb628241749af5b7e609ae9be5a3e1a5000000000100000000010231c61d4bf963369d9a9f0044c31134f4b6bb70e51f08139beea96b13df90f4460100000017160014477cbe8dee439722f3f14b1d81627bb63bb157fcffffffffaaa7c0ed22b28b71adb8eeaac29498c22072f4722a6513b30410b73b6ff1a75f0100000017160014477cbe8dee439722f3f14b1d81627bb63bb157fcffffffff02979a74060000000017a914e46a1466b823f598848ae9da5559b4f7325e7c068756663e000000000017a9149aa74e9aae608d0f7d9911e522bc50661c430f1d8702483045022100cd7aff7eee58ac6000bc36b2da476b9a8628f23a84772b88b3a9d4818dfa33a6022012a0b87512504a1dcb0ef10340f76b5961270680ebc27bfbbf2310815430a817012102c76121b389b495148bb2827194036fd96ca3907688fb7ed83e14d83321eeb00e02473044022041a5fabb9faf72292e5cc7a325cb157aaadd3ac8cc6f2bfcba1a185e6d0dba26022021b443724e86ef78e809b5f2d2c192d0031c8c5bee01b4383eff9603baf07aa2012102c76121b389b495148bb2827194036fd96ca3907688fb7ed83e14d83321eeb00e000000000200000000010137b8d2ce518c0918b9939374c026a8043b4dedcf4b23766e02ae0c434d4b81630100000000feffffff02be1f030000000000160014a1833d15c3bf8e06f06b81ea8608124e1095994e6891010000000000160014ad9e8092d05bfb9ced8b95b07ac35007761c6bff0247304402205f2eb90086efd970b3c82ed6b812229205e86eb4b8576531f92f5338d7cb085e02207afddd777c95977cd6fef9e38e0aba1b29437c8bf08b1682ea01d5a751c58510012103c6079b0572448b96531a8d8e081431ae746fb184cbe9def4ac424613b515c2cef3bf09000200000000010182138cdc9099f52aa0de895f8a45815b4f4872531b93a9f62584ea3e25700b390000000000feffffff0294930f00000000001976a9146c06fcd4f1760925516e6ac9743a901354661ed388ac0e9a2c19000000001600147a286360b1a552ce090390ae83d32301cc890aa60247304402205af7c88821af7f1829b5dc19b89aea1e43008318a450586b228da5f40160ba1b022025d6add108685a93db9d98c7a85218baa3b508478dc3323450964feae7cd26720121030a2edd06b4d0330a23b350ef640544ccc329b6dea5c958a9b820b44ffef331cdf3bf090002000000000101d2ea0a43269a4ad5caca3421272ebff443fa25537b76fa69347bbea53df8249b010000001716001405ee2cd0a3b210c69ec9b04d2a04d898eb57b7d8fdffffff02bef32000000000001976a914fafc846aaaab5799d2d6c6d56c5bef7f5f3b4bb888ac529911000000000017a9145f7b4656e194e74c3182deab3cccb6d30ecd6d1a870247304402201a831af5f7cf1f1f241c1c09359a47149cb6509f8788b8e390f3ea8453c60fd5022024011980364c7b81c8e527ef5a3fd206da432888277b50982295149ec2aabd5501210202d8a5b49d600fad6204f0fbf9dad8d6c38c8c335c2eee4bc1e8a3734970521cf3bf090002000000000101795dd64c2a56858e45922622812ee15dccf6f1e5d5a048cd8c3683670fae884e040000001716001413df1b443930216b2ca29be7c1b87eb8eb64a6d9ffffffff03ec0f03000000000017a91471d219806eb0905b2d8c997002736372565c93df87e9d303000000000017a914b702a7b90066fae12ec876a39f6af35449d69087870684b5070000000017a91499761888e53213ebdf135fd2d52aa9b5780505ee87024830450221009547934cde65ddab1dc857919319f4fbd2264c2f4281e3b43eb2b44d3019e6ef02205a7502adf32d94ed6ae33ba0148f219ade8106441bba3c31b4f2beddf1dabc94012102a6b947d0b0a0d1461bcdf2ac28b7dfc3689dd612e73881d56745f57e47eb22b70000000001000000000101c5b2b4f6e8e5c37e006b7ee6f3aef5e01af9243a25f3db3bc5cb05f90f1d012706000000232200206af78a7c38d1d21c1a85f7223db91be05d42b3954351a58f7c0750c77f383d5affffffff0290212902000000001976a914b5758a462fb3d7bc1fff4dce7f40d9d8c572bcc588ac7fa95d040000000017a914da04217d743b7ab3a36419d2d64a40df32abcd8887040047304402200a3914ebcf8a31b3259dfbb17a1d89cbe2b57f53e7a7ccfd176d71bdea84fd3b022015ffd1a1634c9e37738191136625a89075095490f96fb648926b584a5f8eea860147304402200f175a0f1c2409e739bd807636c1549c3f19c648ce73de8131736595cc31539002205f1152adb3c9d3489eaae9c70232993ed35aa014c29794e44b3c30ec61f9b38f0169522103a896adc481ee3d32ec255dd5e6077e7ba63de84552fb330737b84977b7aea643210398eb021a5a136fdef58d1f432d5401a14d781af50343e9e324340aac8a9977f021029cbab0119c3e9e98d5543d51c98a614f0ccfd9bd319ef146ea845e283bc395a553aef3bf09000200000001fc567569ec4a278a598f579e7f5a928edde8a9122b0897668f09167b9752bd41000000006a47304402206dc6d5876bba166430157a68776219abac8e0ed41c130d5cf57c3b150cf4db9b022022e2fbcb2a4279a9dc98604cc3fb09235751b0da46ccbae3552f74d730bbf8da012102dbf9673ff0c9430d9b95f8a871b024825ac9b6eff197e51b2e1973ba01900c39ffffffff03d20b3300000000001976a9142576cce32e5bf99affb2a5b259413a463eb0207288ac0000000000000000166a146f6d6e69000000000000001f000000012a05f20022020000000000001976a914549d8633dee2439ac64d0db7535ac1e71c1d5d7d88ac000000000100000002449d7ce5c15ae850d5f89ace137db633f4fa35f98608eec34b40bd7cd943deab020000006a4730440220792fcd97c24d402d5fa09b2aaa68d59e94e96889bad0ada5cf9218a0f84f160d02207e8600191c5b23c976753b13695899a1800a3d15bfbed33d68f6ac9462138409012103a978dd8200e5c62377c0170f7f25229dc396fd98b3c8b223428b840e048fe98effffffff2cb9aeb83032abc44e5ef675553cd9008ccdc9d4af189e76de607b5adae50fd0000000006a473044022070a8a34a4840e0beea6d6ea46f4769c6c9a79ba17499fb1e46a27fa4ad688efa022014ce086c3be9728b4125c4b5aa620ed9c95c80f9fcdf256ce38ea15be9eb490e01210365b1d207ae61a81760bf04f19cf5c17a815096f40f6554e0227eca7b94f31443ffffffff0388a900000000000017a9145c95d9cf9d48683284dff53379acc296eb2148838740e96c00000000001976a914d2e512bb4013e79a17f6fa61dbb39394e2f7962888ac2f92ef00000000001976a914800e15564a657159f24cd44483a3981e69820c2a88ac000000000100000002400afa1197827a390de070f0d5087e419936b8c547e2fdb0e43384168cfe3817010000006a473044022020364d33fd1dc34114d4fbbc9298323248bffc638dde70dd9fcfed4825b8cfb502206d558224017719caccb9a7d0b4e26c68840281d30d912ba8201881c74bca2b76012102ee98b5eb37f997275074b9d034f5378cfdcf5c6eab1af22a85dbb53ee5ce494dfffffffff14f044c9c17b4ef33ccec93c301cd305b990fcfe6553c0ea08382a530cde734010000006b483045022100ba127043cdcc6fccae90578bad0f3a31ec4784c67fa5eed875e59135806b0d8c02200280c0c5ae1eceafd3df1f658109460cf9eceee28f463143463ca0d5664ed056012103c25ecccb00a33ef53ce49aae7ad030accce7aedd838a60e7ae8756d1164a03e7ffffffff02380b7b000000000017a914fef8c8d7e9eeba356599a877015bdeb5fe07290e870000000000000000226a20165f2dc5cd69a8bfdb56f411205be1e640238d42a5a4d07534ad484f2eb53c58000000000100000000010201250e1ce3fbd95e344e5b1665c3e48eb1114024d2959e770ce834bca3c048340400000000ffffffff8d57ef794cf5ccc5d0bd2b14ac0ab23572703c4bd01cb91dbfc3263eeeb291750100000000ffffffff0223a00000000000001600148f84876e772fb3f9622677d8660b1d6acaad2388cdf821000000000017a914f411a2bc5e1a7f1646f29da65f489c183a1103d38702483045022100a7bc0d94e1ee28159379c10c513232d8de37d4c8b675b35a25daf5d818dc16f802207f3ac9b939b8260b379311291d7eb08a8a489a4b25834520e434c99d6a47833d012103d570b82c847fa344b433af10c2185f8df5c57a35ec0c8dc160b612698f11ed5c024730440220203b03bffbafebec714a627a9e7504c660c8a11a0b2ac9e92d3d19749cf19f340220037ae2f607a3bdabd2f1c52fd21f4356ca05b1b0ed52ce5f61a7f1440045068d012102f340da2a7162152354f7206442da9c579b1e5593d73296dd7fa3d082346e7615000000000100000001eca32940c3518e79d3f3dd9af32035b0380230ae0d02993ecacd354df71151ad030000006a473044022061006c03118879f87d42fea69a49c8a466a9e08ebb6e6e46cb8d2c464273f56002207aa3747d252f87867963476314480ca2515ed7c55f0a8ba2d01054531c61468001210370d7f27411a0c837a9c8a8a0e573279db5533bc50ae8886800c1134cf27f7ed8ffffffff01dcad49000000000017a91460b3c8bb90d5efe949af5d71bbdefd6b1a5d74388700000000010000000185405dd195e727bb94fc4a758e63f2da595d170ae72a95e0c4563a7faf606e84080000006a47304402204706f44398e2e35172c5bded4016fb163420238c08f10499f9a31eb118244dc3022002699f0de65ce53c8b63e8fe27870e7295f99683369a54475b0534060f8dd165012102c3e6827d2a2247ee5c653dc817ef0f1b33ac24d933ac4cd37384cd92e24b3268ffffffff0201d400000000000017a914b4af9264f693e65855f26daa2eb3670c407c3da28706d70000000000001976a914fc87a36fe305fbd5447a506eafbd320ef1f73db588ac000000000100000001b809dc80682b365d3dec7300b2ffcf41b734bd56ffa4bcdf8721c7b41167b02e000000006a4730440221009af32c191d62d274db13db22d28d387c5e1f06b491c6eae661e7bdce44fe0272021f04388adef7de354db1687a7d22e821f4d03a75a7656e93558f713e1a413e75012103015ca316875628d6d50fffe1fd6de442f984cb73062633f8db6a73f31afbd786ffffffff02bb340800000000001976a9140dfc1d6ed25d1f3d5e363ee363719dde80b0dde988ac244708000000000017a914a10007ce2a294fe51fe455fb4fec3c1af5b2ac0d87000000000100000001a44b9ed527b9acf1cfbabc08abcd7e05f2a24724befbc607a2639a284c48072f000000006b483045022100abd8b72e65d22df84ab1262e8dfb3e403d1c1fbad06e4695322298a5c7d00cd402205e971cf08a4147a53a5581c82a0235980c562434e0ec0d47a535667c9476e49701210254cc0c48fa7ae1721cd6bf6634efd8a9fb6bd4450155940285783df13e6ac2e7ffffffff02469400000000000017a914c73864a3fc10624f5182f22606805b8afb8d50b58731ef1c00000000001976a9140662d9f415fcce7e1c54f68c68a67edf5d1a8e2a88ac0000000001000000014ec2bbb66a068702c5ddb0ea56255adf95835a1392abea05f54756e79f69dc4d000000006b483045022100fa736ef9730407bfbb3a73ddfa98b8ea58ec7316529e67c6f8e6559edd26504e02203f08a196dd47196bf3b10a353c9aa02b5076886faaad83eb2d12215e7f2bb4f80121024a915c8d2d186c748e45a874ee87b98a983443b4e8d190727810714235ed9977ffffffff02ba2a0300000000001976a914dad668592c35b29a8740c0a561cf2af105c492d588ac407f4f000000000017a91415f16aead866a6a39d685f888929e097fa91639a87000000000100000001224ee4b4534dbdb8f0f3d383c77715e9b47b1725f93d67d378e7d63bd9224d36000000006b483045022100d5745a06bc00d18067fc914aaec29912b90a0831ceb8c54eb6bc46f20c4b041002205493c38e28fa7d9cbc52b5b8bb909c28bb0664dc742650e9758d088c048771a3012102c92534675b4829b717c518405870d512e81d031bddb5739b97ef4e69a3bec412ffffffff02f52c0600000000001976a91440031ad6c12899bd6a4427a2a5fec98f2bbe4d9988ac404b4c00000000001976a91413f9210fcad8c8d4cfc915c54da53ffd9173350f88ac000000000100000005e3d5da43dc6cb68ad9cce2b4d28e0c9378f36d6dea2c1a472fe7b5c0641550670d0000006a473044022042121a27d2bc9df5c9e39747201d2b5056b86d02daa4c8700237b68defbb1354022034b7247518d05e7858c500dc160d54746667df1b2c322e7f855582a9186d849e012102d41a103c07b6e8bbe5bc9924abaf20da262d74b4a8cb1ec2138a6df260060642ffffffffc35b94aa17aa3264366406c23af052f276ed26d15f508acd00b98adde410667a4c0000006a473044022075acfb12b4d4eddd29375f00392d0af800161a9c52e32d3e86fb197160c79413022050b13b128e74119632706eaf1dff33c33a94fece7c0a09f978040e4739509c460121024839bb9e0b02cf928f89e25c8160f932f470445a720cfb5e7517b10613e793f1ffffffffa0f50ee88596bd9ab1e748a7b1ea390d24a0563a852635457c0bfd2f68b29a98010000006b483045022100b938df74f5805a8da4569d287179c3bd7b3d23dc9467f743d0dd7fd3cf841be902201f2ad3710a7e5368549e684c469540aa138bbc861c964daf9572b96c4cac5fdc012103000afd44c8152ec9a6ae81f067ce879919e160a85407a623229c6de03e291509ffffffffa6902131701ee0e0bf57af2afc4af659657582d03d9287f339c16b69ed96deaf0e0000006a473044022048b16bb4023c51d0f6d4f3bda6132661e2c3bb9de38e27263ddce91af3e2a822022026f5832706f3e814908151db37280ab510d02ccda1367b3ae0478f29d6bc4792012103a07627c51ae97b0b3971fd1f573013564fcfb234b903438c8c1ead02edf18188ffffffffa4ff2acf6f0e9587702b4e913e6377916515237668438cb1a4f33745a4824dd4000000006b48304502210090e4fada8aba754a178b0bbc2fa068a599cf88673c72f6fa394af6177de225f0022021fe6937414ef732a1f426a2a818e43de009dcf8e6ce1fc7f17a760a005a5ac10121035e70858c4ea021de5ddea8f5c4edf3142d5f370840a031d3de0fe66df5cd0798ffffffff02840c0000000000001976a914de1523e731361786e41725e883862a0cd35a601a88ac2cc75700000000001976a914594b42e7889ff8bc0bc8eb4a2a4963075eeb666488ac0000000001000000017fc20234c6e103ba121a0d8c522e5d467d3064d2f5001fd9f8a60f9558682106010000006b483045022100c51a0872a3af784f73169b4a4ad5e58f9165e5b3605fb736d22a6429ae0f3dfe02203b5f5a0c8753d9508b10b951c0786a801cf42068b8edf85ab7959ba370752cc20121022a34d0c84dcaa303d077a8daf19be9b018a63d9dd1bf1b7b8a9315819fdbbd0cffffffff02cb220300000000001976a9144dfa12de6211d3ef0074f15f944755a26585001a88ac1ad80b00000000001976a9149e7fc835bcbd7d80a77da90e955b506fd38a641888ac0000000001000000019ac1f70516432c3ddf30c1c524acea62a4b837cbc84c6f6699835a5666f8ba84010000006a47304402204ee7dfe98d1d38cda2b47e531d7ac48bf42da51d90b2a3b00f75e0634581c70902205d3a18eea6ae6bda86484e6f0bc594958b4f3109d5d75a88bb544bd24917642001210285a47bdf5654d1aa1fd8221beb61fb617ff488a95f725687847f6534b9756457ffffffff02499f4600000000001976a91461539754fcb32ab27010a9ed51db10308243587d88ac65ca5200000000001976a914a6a00495c5d4a8248ed0c2cb69b4541f68ff051288ac00000000010000000123361974bb84146f882ed697af572745db3b175213b4b39ff1b35f54f8ba242d1a0000006a4730440220379bab8cdf0209164b3a50bd305d7b4274dd01b98ce0e030c4c4379a6981fc7a0220268d980199f701d86edf90e9b5b624995598c4de87e4a75ec6ae771641c0a7da01210308bc13f27469d95819d909954fd5794a86f30bbadf5cb1a0ae27b9b33f0a7219ffffffff02d9a70100000000001976a914a13bb963ce8a6032c5d4bc279f626c015167eca888ac117d0f00000000001976a9140a25e0ed2789e622645140ffa15cd11b5e86d3cd88ac000000000100000001347618ce838336c0a4fafe9b0a7cd7aaefd167bd0d77867674ec71ad1510fae0010000006a473044022070eaffbdc272ce8244a0d083ebdd97a1819cd878c48bab31ffb3eb342a6fea83022015d569598c9cd5b03771dff04155536a7566ad98da43b141e6041e7335eb69ec0121029721c7cce2fc115891d7d5e41c592805bd9ee8ee7e5a58d19b59663377864a88ffffffff0234384300000000001976a914bfb4c4adb7b6f26a90919e0d4017a4c20645dbcb88ac94bcf40b000000001976a914cb09f65296a3d7b6786f5ef62d56807c986e800388ac00000000010000000001015a7dd0f94e2bc5fd4ab9c476dcb56766edd9876c2c37cd090691d0e6a270e3110000000000ffffffff02be4a0000000000001600145fc48be9ff57c5543184c6a1626bb0733bae794f0000000000000000536a4c500014004f0002ae3bb59a79aea4dc73e65d9569ae8811269fa6e3cca9e455458545c983038fb5eeb9249d0b757f45513bfdcc3a075f0b5e500704b23d6d19612b5747a0442933805b8338c911c6b8e04b02483045022100d6bdf115b878580fda24e789dc5e71e17b7e8616cdc747c37fc8305edbecb98d022064bb563cc9567653e145d9ad5f714c07b42488f67e3bc7b184e485dce900f4e001210235e6335960949a7574ed09c676f2d90558d4b0b1d6da802cc895ae03146df8ff0000000001000000000101bf51672b326eb0688c571cddd248a398b348f14beefcfa3201aa8be996e45c7f0000000000ffffffff020000000000000000536a4c5000140050000286e010cb38a13efbcf7920a769ae8811269fa6e3cca9e455458545c98303bb1ba935d5d62ed53078fd5f4d9ad9045f0b5e870704bb92dec782585747a0442933805b8338c911c6b8e04be246000000000000160014dca459a52d682009c8755d91bdc7b01ae61479cd0247304402204ecef8c656a7644abbc6b102cc124a075ba3e89e017b7ef1d0087aa2258d62d602200b772a147a1c1328fabacf16dff03e69fe7b5e7ea9680ff3af9679b2512c7c300121024f0514d6fb04263f1f6851cc510b2d6d475aca64dc7065319d43f1bdb82e8bd20000000001000000000101538dcb0f0bab1d13515bdb3f84658430645822dd8297991c03df0293017a0f250000000000ffffffff02c1490000000000001600145fc48be9ff57c5543184c6a1626bb0733bae794f0000000000000000536a4c5000140050000286e010cb38a13efbcf7920a769ae8811269fa6e3cca9e455458545c98303bb1ba935d5d62ed53078fd5f4d9ad9045f0b5e870704bb92dec782585747a0442933805b8338c911c6b8e04b0247304402204c9e2fe477052b4bab64d4380aaa086dec2eb7c47be4343334396613d372c015022029b32a381151497e490416163c28ec052cb1caef7bd6bbcc0d28c3f7498424db01210235e6335960949a7574ed09c676f2d90558d4b0b1d6da802cc895ae03146df8ff00000000010000000001014720c221b4a191d8b2d1ed306f695a88c1875b3706583c9a4b0348a64a069dc30000000000ffffffff02de550000000000001600144a3371d07a1aeef1fb51b78cdb666d1ade3ca22b0000000000000000536a4c500014004c0002ad14a2d43ba9f9507630350469ae8811269fa6e3cca9e455458545c983038f87b03171931f6fb7c225f9791e47895f0b5de60704b382b38b7c145747a0442933805b8338c911c6b8e04b024830450221009414bcb1b5e4a8a79979fef4c993ecf6eb63eb9b136202cc53b21f43ba5c18560220583ca1b7093c78af3b4843c024efce89fda5898af776cf22cefc6d0a72bd47f40121030996ecdd25e21f72a7b10c9319bc68327f0bf455ff19e75584c72b896763c6510000000002000000000101f8bb029295df6c2028c3e2c001bedf027aae149eda514ba7585fa502102b9ba60100000000fdffffff02d306000000000000160014ff4f462a21c8edb1cc51dd386e352c5c47570fd74ab70f00000000001976a914c4bea4e1f8f3607374cb5e8b55129eaaf745431088ac0247304402204119d353efe5941ac7fc03e4210f5b8bf34cbcac1ac9874a3712763c939da2d80220027d044ad2de2083e435c2171dc4ff6b676146dc3c8d3ab445fa16f7ff213c16012103d4ec676665974d865dd6b62eeaad4674bbccbf9b33b35e33f1bfb9974e1c30ace5bf0900"

	var data []byte
	data, err := hex.DecodeString(DataInString)
	if err != nil {
		t.Error(err)
	}
	recvBlock := BlockPayload{}
	err = recvBlock.Parse(data)
	if err != nil {
		t.Error(err)
	}

	var hashes []string
	for i := range recvBlock.Txns {
		txHash := recvBlock.Txns[i].TxHash()
		log.Infof("tx[%d].txhash=%s, size=%d", i, hex.EncodeToString(txHash[:]), recvBlock.Txns[i].Len())
		txid := recvBlock.Txns[i].Txid()
		log.Infof("tx[%d].txid=%s", i, hex.EncodeToString(txid[:]))
		hashes = append(hashes, hex.EncodeToString(common.ReverseBytes(txid[:])))
	}
	//尝试构建默克尔树
	root, err := block.ConstructMerkleRoot(hashes)
	wantMerkleRootHash := hex.EncodeToString(common.ReverseBytes(recvBlock.MerkleRootHash[:]))
	if root.Value != wantMerkleRootHash {
		log.Error("calculate merkle root hash not equal to block header merkle root hash")
		log.Errorf("get:%s, want:%s", root.Value, wantMerkleRootHash)
	}
}
